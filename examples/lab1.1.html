<html>
	<head>
		<meta charset='utf-8'>
		<title>lab1.1 with m0sk1t::engine</title>
		<script src="./../classes/meCore.js"></script>
		<script src="./../classes/meUtils.js"></script>
		<script src="./../classes/meInput.js"></script>
		<script src="./../classes/mePrimitive.js"></script>
	</head>
	<body onload="init();">
		<canvas id="main">canvas</canvas>
	</body>
	<script>
		function init() {
			me.core.init(["#main"],500,500);
			var pt		= me.primitive.point,
				rect	= me.primitive.rectangle,
				circ	= me.primitive.circle;
			var r = new rect(new pt(0,0), new pt(500,500),"#077","stroke"),
				c = new circ(new pt(250,250),10,"fill","#337");
			window.addEventListener("mousemove", me.input.mPos);
			(function loop(){
				var cX = me.input.mX - c.coord.x,
					cY = me.input.mY - c.coord.y;
				c.setCoord(new pt(c.getCoord().x+(cX/20),c.getCoord().y+(cY/20)));
				r.draw(me.core.layers["#main"]);
				c.draw(me.core.layers["#main"]);
				window.rAF(loop);
			}());
		}
	</script>
</html>